<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Billing Information</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .info { background: #f5f5f5; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .success { background: #d4edda; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; border: 1px solid #f5c6cb; }
        .plan-card { 
            border: 2px solid #3b82f6; 
            padding: 20px; 
            margin: 10px 0; 
            border-radius: 8px;
            text-align: center;
        }
        .plan-name { font-size: 1.5rem; font-weight: bold; margin: 10px 0; }
        .plan-price { font-size: 2rem; font-weight: bold; color: #3b82f6; margin: 10px 0; }
        .plan-features { text-align: left; margin: 20px 0; }
        .plan-features li { margin: 8px 0; }
    </style>
</head>
<body>
    <h1>Billing Information Test</h1>
    
    <div id="userInfo" class="info">
        <h3>Current User Plan:</h3>
        <div id="userDetails">Loading...</div>
    </div>
    
    <div id="billingTest" class="info">
        <h3>Billing Display Test:</h3>
        <div id="billingDisplay">Loading...</div>
    </div>

    <script>
        // Check if user is logged in
        const savedUser = localStorage.getItem('kotaUser');
        const userDetails = document.getElementById('userDetails');
        const billingDisplay = document.getElementById('billingDisplay');
        
        if (savedUser) {
            const user = JSON.parse(savedUser);
            userDetails.innerHTML = `
                <strong>Name:</strong> ${user.name || 'Not set'}<br>
                <strong>Email:</strong> ${user.email || 'Not set'}<br>
                <strong>Plan:</strong> ${user.plan || 'Not set'}<br>
                <strong>Created:</strong> ${user.createdAt || 'Not set'}
            `;
            
            // Display billing information based on plan
            const plan = user.plan;
            let planInfo = '';
            
            if (plan === 'starter') {
                planInfo = `
                    <div class="plan-card">
                        <div class="plan-name">Starter Plan</div>
                        <div class="plan-price">$0.00</div>
                        <div style="color: #666; margin-bottom: 20px;">per month</div>
                        <ul class="plan-features">
                            <li>✓ 5 product blocks</li>
                            <li>✓ Amazon only</li>
                            <li>✓ Basic analytics</li>
                            <li>✓ Community support</li>
                        </ul>
                        <button style="background: #6b7280; color: white; padding: 10px 20px; border: none; border-radius: 5px; width: 100%;">Current Plan</button>
                    </div>
                `;
            } else if (plan === 'pro') {
                planInfo = `
                    <div class="plan-card">
                        <div class="plan-name">Pro Plan</div>
                        <div class="plan-price">$19.00</div>
                        <div style="color: #666; margin-bottom: 20px;">per month</div>
                        <ul class="plan-features">
                            <li>✓ 50 product blocks</li>
                            <li>✓ All retailers (Amazon, Walmart, Shopify)</li>
                            <li>✓ Full analytics dashboard</li>
                            <li>✓ Click & conversion tracking</li>
                            <li>✓ Email + chat support</li>
                        </ul>
                        <button style="background: #6b7280; color: white; padding: 10px 20px; border: none; border-radius: 5px; width: 100%;">Current Plan</button>
                    </div>
                `;
            } else if (plan === 'creatorplus') {
                planInfo = `
                    <div class="plan-card">
                        <div class="plan-name">Creator+ Plan</div>
                        <div class="plan-price">$49.00</div>
                        <div style="color: #666; margin-bottom: 20px;">per month</div>
                        <ul class="plan-features">
                            <li>✓ Unlimited product blocks</li>
                            <li>✓ All retailers + custom integrations</li>
                            <li>✓ AI-powered recommendations</li>
                            <li>✓ SmartAlerts for performance changes</li>
                            <li>✓ Export reports (PDF/CSV)</li>
                            <li>✓ Priority support</li>
                        </ul>
                        <button style="background: #6b7280; color: white; padding: 10px 20px; border: none; border-radius: 5px; width: 100%;">Current Plan</button>
                    </div>
                `;
            } else {
                planInfo = '<div style="color: #ef4444;">Unknown plan: ' + plan + '</div>';
            }
            
            billingDisplay.innerHTML = planInfo;
            document.getElementById('userInfo').className = 'info success';
            document.getElementById('billingTest').className = 'info success';
        } else {
            userDetails.innerHTML = 'No user logged in. Please login first.';
            billingDisplay.innerHTML = 'Cannot display billing information without user data.';
            document.getElementById('userInfo').className = 'info error';
            document.getElementById('billingTest').className = 'info error';
        }
    </script>
</body>
</html>
